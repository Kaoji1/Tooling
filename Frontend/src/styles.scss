// Blobal style.scss

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html,
body {
  height: 100%;
  margin: 0;
  padding: 0;
}

:root {
  --font-primary: 'Kanit', sans-serif;
  --color-primary: #3b82f6;
  /* Modern Blue */
  --color-primary-hover: #2563eb;
  --color-secondary: #64748b;
  /* Slate */
  --color-bg: #f3f4f6;
  /* Light Gray */
  --color-surface: #ffffff;
  --color-text-main: #1f2937;
  /* Gray 800 */
  --color-text-sub: #4b5563;
  /* Gray 600 */
  --color-border: #cbd5e1;
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --radius-md: 0.5rem;
  --radius-lg: 1rem;
}

body {
  font-family: var(--font-primary);
  background-color: var(--color-bg);
  color: var(--color-text-main);
  -webkit-font-smoothing: antialiased;
}

/* --- PrimeNG DatePicker/Calendar Global Fixes --- */
/* Target all possible panel classes to ensure background is opaque */
.p-datepicker,
.p-datepicker-panel,
.p-calendar-panel,
.p-input-overlay {
  background: #ffffff !important;
  background-color: #ffffff !important;
  opacity: 1 !important;
  visibility: visible !important;
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.05) !important;
  border: 1px solid #e2e8f0 !important;
  z-index: 999999 !important;
  border-radius: 12px !important;
  /* Softer rounded corners */
  padding: 0.75rem !important;
  min-width: 250px !important;
  color: #1f2937 !important;

  /* Header Styling */
  .p-datepicker-header {
    background: #ffffff !important;
    background-color: #ffffff !important;
    border-bottom: 1px solid #f1f5f9 !important;
    padding: 0.5rem 0 !important;
    margin-bottom: 0.5rem !important;

    .p-datepicker-title {
      font-weight: 700 !important;
      color: #1f2937 !important;
      font-size: 0.95rem !important;
    }

    button {
      color: #64748b !important;
      width: 2.25rem !important;
      height: 2.25rem !important;
      border-radius: 50% !important;

      &:hover {
        background-color: #f1f5f9 !important;
        color: #3b82f6 !important;
      }
    }
  }

  /* Table Grid */
  table {
    width: 100% !important;
    border-collapse: collapse !important;
    background: #ffffff !important;
    background-color: #ffffff !important;

    th {
      color: #64748b !important;
      font-weight: 600 !important;
      padding: 0.5rem !important;
      font-size: 0.8rem !important;
      text-transform: uppercase;
      letter-spacing: 0.025em;
    }

    td {
      padding: 0.125rem !important;

      span {
        width: 2.25rem !important;
        height: 2.25rem !important;
        border-radius: 50% !important;
        /* Back to rounded/circle for balance */
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        font-size: 0.875rem !important;
        cursor: pointer !important;
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
        background-color: transparent !important;

        &.p-highlight {
          background-color: #3b82f6 !important;
          /* Corporate Blue */
          color: #ffffff !important;
          font-weight: 600 !important;
          box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.3) !important;
        }

        &:not(.p-highlight):not(.p-disabled):hover {
          background-color: #f1f5f9 !important;
          color: #3b82f6 !important;
        }

        &.p-datepicker-other-month {
          color: #cbd5e1 !important;
        }
      }
    }
  }

  /* Footer Buttonbar (Clear/Today) */
  .p-datepicker-buttonbar {
    border-top: 1px solid #f1f5f9 !important;
    padding: 0.75rem 0 0 0 !important;
    display: flex !important;
    justify-content: space-between !important;
    background-color: #ffffff !important;

    button {
      background: transparent !important;
      border: 1px solid #e2e8f0 !important;
      color: #3b82f6 !important;
      font-weight: 600 !important;
      font-size: 0.8rem !important;
      padding: 0.4rem 1rem !important;
      cursor: pointer !important;
      border-radius: 50px !important;
      /* Pill shape for buttons */
      transition: all 0.2s !important;

      &:hover {
        background-color: #f0f7ff !important;
        border-color: #3b82f6 !important;
      }

      &:last-child {
        background-color: #f8fafc !important;
        color: #64748b !important;

        &:hover {
          background-color: #fee2e2 !important;
          color: #ef4444 !important;
          border-color: #fecaca !important;
        }
      }
    }
  }
}

// ==========================================
//    SweetAlert2 Premium Theme (Global)
// ==========================================
.swal-premium-popup {
  border-radius: 20px !important;
  padding: 1.5rem !important;
  background: #ffffff !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15) !important;
  border: 1px solid rgba(226, 232, 240, 0.8) !important;
}

.swal-premium-title {
  font-family: var(--font-primary) !important;
  letter-spacing: -0.02em !important;
  padding-top: 0 !important;
}

.swal-premium-confirm {
  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%) !important;
  border-radius: 12px !important;
  padding: 12px 32px !important;
  font-weight: 700 !important;
  font-size: 0.95rem !important;
  box-shadow: 0 10px 15px -3px rgba(37, 99, 235, 0.3) !important;
  border: none !important;
  transition: all 0.2s !important;
  margin: 10px !important;

  &:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 15px 20px -3px rgba(37, 99, 235, 0.4) !important;
  }
}

.swal-premium-cancel {
  background: #f8fafc !important;
  color: #64748b !important;
  border-radius: 12px !important;
  padding: 12px 32px !important;
  font-weight: 600 !important;
  border: 1px solid #e2e8f0 !important;
  transition: all 0.2s !important;
  margin: 10px !important;

  &:hover {
    background: #f1f5f9 !important;
    color: #1e293b !important;
  }
}

// Success override
.swal-premium-confirm-success {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important;
  box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.3) !important;

  &:hover {
    box-shadow: 0 15px 20px -3px rgba(16, 185, 129, 0.4) !important;
  }
}

// ==========================================
//    Angular Material Datepicker Customization
// ==========================================

/* 1. Lighter Border for Input */
.mat-mdc-form-field-flex {
  border-radius: 8px !important;
  background-color: #ffffff !important;
  border: 1px solid #e2e8f0 !important;
  /* Lighter border */
  transition: all 0.2s ease-in-out;
}

.mat-mdc-form-field-flex:hover {
  border-color: #cbd5e1 !important;
  /* Slightly darker on hover */
}

.mat-mdc-form-field-focus-overlay {
  background-color: transparent !important;
  /* Remove default gray bg on focus */
}

/* Remove default underline/ripple if using 'fill' appearance, though we use 'outline' mostly */
.mdc-line-ripple {
  display: none !important;
}

/* 2. Calendar Popup Background -> White */
.mat-datepicker-content {
  background-color: #ffffff !important;
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.05) !important;
  border-radius: 12px !important;
  border: 1px solid #e2e8f0 !important;
}

/* 3. Calendar Body Styling */
.mat-calendar-body-cell-content {
  border-radius: 50% !important;
  /* Round shape */
  color: #1e293b !important;
  /* Dark text for enabled dates */
  font-weight: 500 !important;
}

/* Hover state for enabled dates */
.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected) {
  background-color: #f1f5f9 !important;
  color: #3b82f6 !important;
}

/* Selected Date */
.mat-calendar-body-selected {
  background-color: #3b82f6 !important;
  /* Primary Blue */
  color: #ffffff !important;
  font-weight: 600 !important;
}

/* 4. Disabled Dates (Past) -> Faded/Lighter */
.mat-calendar-body-disabled>.mat-calendar-body-cell-content {
  color: #cbd5e1 !important;
  /* Very light gray text */
  opacity: 0.6 !important;
  cursor: not-allowed !important;
  background-color: transparent !important;
  /* Ensure no bg */
}

/* Today's Date (if not selected) */
.mat-calendar-body-today:not(.mat-calendar-body-selected) {
  border-color: #3b82f6 !important;
  color: #3b82f6 !important;
  background-color: transparent !important;
}

/* Header Styling */
.mat-calendar-table-header th {
  color: #64748b !important;
  font-weight: 600 !important;
  font-size: 0.85rem !important;
}

.mat-calendar-header {
  padding: 0.5rem 0 !important;
}

.mat-calendar-previous-button,
.mat-calendar-next-button {
  color: #64748b !important;
}

/* 5. REMOVE BORDERS (The "Dark Box") */
/* Hide the default MDC outline borders */
.mdc-notched-outline__leading,
.mdc-notched-outline__notch,
.mdc-notched-outline__trailing {
  border-color: transparent !important;
  border: none !important;
}

/* Ensure no border on hover/focus */
.mat-mdc-form-field:hover .mdc-notched-outline__leading,
.mat-mdc-form-field:hover .mdc-notched-outline__notch,
.mat-mdc-form-field:hover .mdc-notched-outline__trailing,
.mat-mdc-form-field.mat-focused .mdc-notched-outline__leading,
.mat-mdc-form-field.mat-focused .mdc-notched-outline__notch,
.mat-mdc-form-field.mat-focused .mdc-notched-outline__trailing {
  border-color: transparent !important;
}

/* Remove default background if any */
.mat-mdc-form-field-flex {
  background-color: #ffffff !important;
  border: none !important;
  /* Remove the border we added earlier too */
  box-shadow: none !important;
}

/* Optional: Add a very subtle shadow or underline instead if they want *some* indication, 
   but for now, just removing the "dark box" as requested. 
   Let's keep the custom light border we added in step 1 but make it even lighter or remove it if strictly requested. 
   The user said "square dark", usually referring to the default appearance. 
   Let's force the custom border we created to be visible but the DEFAULT MDC border to be gone.
*/

/* Re-enforce our custom lighter border from Step 1, but ensure MDC is gone */
.mat-mdc-form-field-flex {
  border: 1px solid #e2e8f0 !important;
  /* Keep our light border */
}

/* HIDE the strong default MDC border */
.mdc-notched-outline {
  display: none !important;
}

/* 6. COMPACT SIZE (Match other inputs ~38px) */
/* Force height and center content */
.mat-mdc-form-field-flex {
  height: 38px !important;
  min-height: 38px !important;
  padding-top: 0 !important;
  padding-bottom: 0 !important;
  align-items: center !important;
}

/* Fix input position */
.mat-mdc-form-field-infix {
  padding-top: 6px !important;
  padding-bottom: 6px !important;
  min-height: 38px !important;
  height: 38px !important;
  border-top: 0 !important;
}

/* Fix Icon position */
.mat-datepicker-toggle-default-icon {
  width: 20px !important;
  height: 20px !important;
  vertical-align: middle !important;
}

.mat-mdc-icon-button.mat-mdc-button-base {
  width: 38px !important;
  height: 38px !important;
  padding: 8px !important;
  /* adjust for center */
}

/* Remove bottom spacing reserved for hint/error */
.mat-mdc-form-field-subscript-wrapper {
  display: none !important;
}