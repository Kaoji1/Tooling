<!-- Layout หลักที่จัดเรียง sidebar กับ content -->
<div class="layout">
  <!-- Sidebar ฝั่งซ้าย -->
  <app-sidebarpurchase></app-sidebarpurchase>

  <!-- Content ด้านขวา -->
  <div class="content">



<!-- เพิ่ม div สำหรับสถานะแนวตั้ง พร้อมข้อความ -->
<div class="status-indicator-vertical">
  <div class="status-item">
    <span class="status yellow"></span>
    <span class="status-label">= Waiting</span>
  </div>
  <div class="status-item">
    <span class="status green"></span>
    <span class="status-label">= Complete</span>
  </div>
</div>

    <!-- Header -->

    <div class="header-content">
      <h1 class="reh">Request History</h1>
      <app-notification class="noti"></app-notification>
    </div>


    <!-- คำอธิบายใต้หัวข้อ -->
    <p class="the">The loan withdrawal history is here.</p>

    <!-- ฟอร์มตัวเลือก -->
    <div class="box-input">
      <div class="form-input">
        <div class="group-select">
          <label for="datesetup">Date</label>
          <input type="date" [(ngModel)]="fromDate" placeholder="datesetup">
        </div>

        <h6>TO</h6>

        <div class="group-select">
          <label for="duedate">Date</label>
          <input type="date" [(ngModel)]="toDate" placeholder="duedate">
        </div>



        <div class="form-input">
  <!-- ปุ่มอื่น ๆ -->
  <button class="btn-filter">Filter</button>
  <button class="btn-sort"><i class="bi bi-sort-down"></i>Sort</button>

  <!-- กลุ่มปุ่ม export -->
  <div class="button-group">
    <button class="excel-button" type="button" class="btn btn-success" (click)="showAlert()"><i class="bi bi-send-fill"> </i>EXPORT TO EXCEL</button>
    <button class="export-button" type="button" class="btn btn-danger" (click)="showSuccessAlert()"><i class="bi bi-send-fill"> </i>EXPORT TO AS400</button>
  </div>
</div>
      <!-- <div class="button-group">
      <div class="button-filter">
        <button class="btn btn-filter" type="button" >Filter</button>
      </div>

      <div class="button-sort">
        <button class="btn-sort" type="button">
          <i class="bi bi-sort-down">Sort</i>
        </button>
      </div>
        <ปุ่ม Export to AS400-->
        <!-- <div class="export-btn">
          <button class="export-button" type="button" class="btn btn-danger" (click)="showSuccessAlert()">
            <i class="bi bi-send-fill"> EXPORT TO AS400</i></button>
        </div> -->

        <!-- <div>
            <button class="excel-button" type="button" class="btn btn-success" (click)="showSuccessAlert()">
            <i class="bi bi-send-fill"> EXPORT TO EXCEL</i></button>
        </div> --> 
        <!-- <div class="export-btn">
          <button class="export-button" type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#exportModal">EXPORT TO
            AS400</button>
        </div> -->
      </div>

    </div>
      <!--Modal แสดง Export to AS400? Y/N-->
      <!-- <div class="modal fade" id="exportModal" tabindex="-1" aria-labelledby="export-title" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">

            <div class="modal-header justify-content-center border-0">
              <header = ส่วนบนของฟอร์ม justify-content = การปรับตำแหน่ง  border = การกำหนดเส้นขอบ 
              <h1 class="modal-title w-100 text-center" id="export">Export to AS400?</h1>
            </div>
            <div class="modal-footer justify-content-center border-0">
              <div class="d-grid gap-3 d-md-flex justify-content-center">
                <d-grid gap = การเว้นระยะ
                <button type="button" class="btn btn-primary btn-lg px-4" data-bs-toggle="modal"
                  data-bs-target="#completeModal">Yes</button>
                <button type="button" class="btn btn-secondary btn-lg px-4" data-bs-dismiss="modal">No</button>
              </div>
            </div>
          </div>
        </div>
      </div> -->

      <!-- Modal Success -->
      <div class="modal fade" id="completeModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header justify-content-center border-0">
              <i class="bi bi-check-circle-fill text-success" style="font-size: 120px;"></i>
            </div>
            <div class="modal-body justify-content-center border-0">
              <h1 class="modal-title w-0 text-center" id="export">EXPORT AS400 success!</h1>
            </div>
            <div class="modal-footer justify-content-center border-0">
              <button type="button" class="btn btn-primary btn-lg px-4"
                onclick="window.location.href='nextpage.html'">OK</button>
            </div>
          </div>
        </div>
      </div>

      <!-- ตารางข้อมูล -->
      <div class="table-responsive">
        <table class="table table-bordered text-center">
          <thead>
            <tr>

              <th>ID</th>
              <th>Division</th>
              <th style="white-space: nowrap;">Item No.</th>
              <th>Order</th>
              <th>Document</th>
              <th>Stock</th>
              <th>QTY</th>
              <th style="white-space: nowrap;">MC No.</th>
              <!-- <th>ItemNo</th> chaeck itemno -->
              <!-- <th style="white-space: nowrap;">MC QTY</th>
              <th style="white-space: nowrap;">Transaction</th>
              <th style="white-space: nowrap;">Due Date</th>
              <th>Status</th>
              <!only complete-->
              <!-- <th>Remark</th> --> 

            </tr>
          </thead>

          <tbody>
          <tr *ngIf="filteredRequests.length === 0">
            <td colspan="11" class="text-center text-muted"> <i class="bi bi-exclamation-circle-fill"></i> Please select the  to view item.</td>
          </tr>
            <tr *ngFor="let item of filteredRequests; let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ item.Division }}</td>
              <td>{{ item.ItemNo }}</td>
              <td>{{ item.PartNo }}</td>  
              <td>{{ item.DocNo }}</td>            
              <td>{{ item.Stock_Location }}</td>
              <td>{{ item.Req_QTY }}</td>
              <td>{{ item.MCType }}</td>
              <!-- <td>{{ item.LOT_MATL }}</td>
              <td>{{ item.Transaction }}</td>
              <td>{{ item.Declation_No }}</td> -->
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- <th>Document</th>
              <th>Item Name</th>
              <th>Part No.</th>
              <th>Spec</th>
              <th>Process</th>
              <th>Mac Type</th>
              <th>Mac QTY.</th>
              <th>Case</th>
              <th>On hand</th>
              <th>QTY.</th>
              <th>Reg.</th>
              <th>New</th>
              <th>Non</th>
              <th>Con.</th>
              //con คืออะไร//
              <th>Fac.</th>
              <th>Status Export</th>
              <th>Remark</th>
              <th>Export Date</th> -->
  <!-- Rows ซ้ำ 8 แถว -->


  <!-- Pagination -->
  <!-- <div class="pagination-wrapper">
        <nav aria-label="Page navigation example">
          <ul class="pagination">
            <li class="page-item"><a class="page-link" href="#">Previous</a></li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">Next</a></li>
          </ul>
        </nav>
      </div> -->
